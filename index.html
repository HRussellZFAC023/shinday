<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Baby Belle - Pixel Miku Garden ✨</title>
    <meta
      name="description"
      content="A cozy pastel web home for Baby Belle (BabbyBelle / bb / beebee / belle / shin / shinnun) - links, music, games, study corner, and interactive Miku companions!"
    />
    <meta property="og:title" content="Baby Belle - Pastel Miku Garden" />
    <meta
      property="og:description"
      content="A magical retro website with interactive Miku friends and kawaii vibes"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="./assets/miku_hatsune_5_by_makiilu_d4uklnz-fullview.png"
      id="metaOgImage"
    />

    <link rel="icon" href="./assets/icon.jpg" id="faviconLink" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/shimeji.css" />
  </head>
  <body>
    <!-- Loading splash -->
    <div id="splash" class="splash-screen">
      <div class="splash-content">
        <img
          src="./assets/miku_hatsune_5_by_makiilu_d4uklnz-fullview.png"
          alt="Miku"
          class="splash-miku"
          id="splashMiku"
        />
        <h1 class="glitch" data-text="Baby Belle's Pixel Garden">
          Baby Belle's Pixel Garden
        </h1>
        <p class="typing-text">Initializing kawaii protocols...</p>
        <button id="enterSite" class="enter-btn">
          enter the garden °❀⋆.ೃ࿔*:･
        </button>
      </div>
    </div>

    <!-- Main site -->
    <div id="mainSite" class="main-site hidden">
      <div id="container">
        <!-- Floating cursor hearts -->
        <div id="cursorTrail"></div>

        <!-- Header with animated background -->
        <header id="header">
          <div class="header-content">
            <h1 id="siteTitle">Baby Belle's Pixel Garden</h1>
            <p id="siteSub" class="handwriting">
              where sweet dreams come to life ♡ • べべベルのデジタル庭
            </p>
          </div>
          <div id="floatingMikusContainer" class="floating-mikus person"></div>
        </header>
        <!-- Status bar with integrated navigation -->
        <div id="statusBar" class="status-bar">
          <div class="status-left">
            <div class="status-item">
              <span class="blink" id="statusDot">●</span>
              <span id="onlineStatus">Online</span>
            </div>
            <div class="status-item">
              🎵 <span id="radioStatus">Kawaii FM 📻</span>
            </div>
            <div class="status-item">
              💖 Hearts collected: <span id="heartCount">0</span>
            </div>
          </div>
          <nav id="navbar" class="status-nav">
            <ul>
              <li><a href="#home" data-section="home">🏠 Home</a></li>
              <li><a href="#socials" data-section="socials">🔗 Socials</a></li>
              <li><a href="#study" data-section="study">📚 日本語</a></li>
              <li><a href="#games" data-section="games">🎮 Games</a></li>
              <li>
                <a href="#shrine" data-section="shrine">Shrine</a>
              </li>
            </ul>
          </nav>
        </div>

        <!-- Main layout -->
        <div id="flex">
          <!-- Left sidebar -->
          <aside id="leftSidebar">
            <div class="widget">
              <h3>📻 miku radio</h3>
              <div class="radio-widget">
                <div class="retro-radio">
                  <div class="radio-display">
                    <span id="radioDisplayStatus">Kawaii FM 📻</span>
                    <div class="eq-bars">
                      <div class="bar"></div>
                      <div class="bar"></div>
                      <div class="bar"></div>
                      <div class="bar"></div>
                    </div>
                  </div>
                  <div class="radio-controls">
                    <button id="playRadio" class="radio-btn">▶️</button>
                    <button id="pauseRadio" class="radio-btn">⏸️</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="widget">
              <h3>🐾 Your new best friend~!</h3>
              <iframe
                width="314"
                height="321"
                scrolling="no"
                src=""
                frameborder="0"
                id="petIframe"
              ></iframe>
              <small style="display: block; color: #596286; margin-top: 6px"
                >Powered by
                <a
                  href="https://gifypet.neocities.org/"
                  target="_blank"
                  rel="noopener"
                  >gifypet</a
                ></small
              >
            </div>

            <div class="widget">
              <h3>👥 MyFriends</h3>
              <div class="friends-list" id="friendsList">
                <!-- Will be populated by JS -->
              </div>
            </div>

            <div class="widget">
              <h3>🌸 Site Stats</h3>
              <div class="stats">
                <!-- Badges moved to Web Badges section -->
                <div class="visitor-counter">
                  <span class="counter-label">Visitors:</span>
                  <span id="visitorCount" class="counter-number"
                    >Loading...</span
                  >
                </div>
              </div>
            </div>
          </aside>

          <!-- Main content -->
          <main id="mainContent">
            <!-- Home section -->
            <section id="home" class="content-section active">
              <div class="hero-banner">
                <img src="" alt="Miku Hero" class="hero-miku" id="heroMiku" />
                <div class="hero-text">
                  <h2>Welcome to my garden! 🌸</h2>
                  <p>
                    <!-- Will be populated by JS (heroParagraphs) -->
                  </p>
                  <button id="heartBtn" class="heart-btn">💖 Send Love</button>
                </div>
              </div>

              <div class="content-grid" id="homeGrid">
                <!-- Will be rebuilt by JS (about, likes, dislikes, dreams) -->
              </div>
            </section>

            <!-- Socials section -->
            <section id="socials" class="content-section">
              <h2>🔗 Find Me Online</h2>
              <div class="socials-grid" id="socialsGrid">
                <!-- Will be populated by JS -->
              </div>
            </section>

            <!-- Japanese games (via Kotoba API) -->
            <section id="study" class="content-section">
              <h2>🎌 Japanese Games</h2>
              <div class="study-grid" id="jpGames">
                <!-- Populated by JS -->
              </div>
            </section>

            <!-- Games section -->
            <section id="games" class="content-section">
              <h2>🎮 Interactive Toys</h2>
              <div class="games-grid">
                <div class="game-widget">
                  <h3>🧩 Miku Memory Game</h3>
                  <div id="memoryGame" class="memory-grid precision">
                    <!-- Will be populated by JS -->
                  </div>
                  <button id="resetMemory" class="pixel-btn">Reset Game</button>
                </div>

                <div class="game-widget">
                  <h3>💖 Heart Collector</h3>
                  <div class="heart-game">
                    <div id="heartZone" class="heart-zone precision">
                      Click to collect hearts! 💖
                    </div>
                    <p>
                      💖 Hearts collected: <span id="gameHeartCount">0</span>
                    </p>
                    <div
                      class="heart-tools"
                      style="
                        display: flex;
                        gap: 8px;
                        flex-wrap: wrap;
                        align-items: center;
                      "
                    >
                      <button
                        id="spawnDecoy"
                        class="pixel-btn"
                        title="Drop a decoy treat to distract the swallow"
                      >
                        Drop Decoy 🍪
                      </button>
                      <button
                        id="activateShield"
                        class="pixel-btn"
                        title="Briefly ward the hearts against the swallow"
                      >
                        Shield ⛨
                      </button>
                    </div>
                    <!-- Reset button removed: heart collector persists and cannot be reset from UI -->
                  </div>
                </div>

                <div class="game-widget">
                  <h3>🎰 Miku Gacha</h3>
                  <div class="gacha precision" id="mikuGacha">
                    <div class="gacha-header">
                      <div class="gacha-tokens">
                        🎟️ Tickets: <span id="gachaTokens">0</span>
                      </div>
                      <div class="gacha-actions">
                        <button id="gachaPull1" class="pixel-btn">
                          Pull x1
                        </button>
                        <button id="gachaPull10" class="pixel-btn">
                          Pull x10
                        </button>
                        <button id="gachaDaily" class="pixel-btn">
                          Daily Ticket
                        </button>
                        <button id="gachaConvert" class="pixel-btn">
                          100💖 → +1
                        </button>
                      </div>
                    </div>
                    <div id="gachaResults" class="gacha-results"></div>
                    <div class="gacha-footer">
                      <button id="gachaCollectionBtn" class="pixel-btn">
                        Open MikuDex
                      </button>
                    </div>
                    <div id="mikuDex" class="gacha-collection hidden"></div>
                  </div>
                </div>

                <div class="game-widget">
                  <div
                    class="social-embed"
                    style="
                      margin-top: 10px;
                      border-radius: 12px;
                      overflow: hidden;
                      height: 480px;
                    "
                  >
                    <iframe
                      title="miku puzzle"
                      src="https://www.jigsawplanet.com/?rc=play&amp;pid=3516308d564d&amp;view=iframe&pieces=25"
                      style="width: 100%; height: 520px"
                      frameborder="0"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>
              </div>
            </section>

            <!-- Shrine section -->
            <section id="shrine" class="content-section">
              <h2></h2>
              <div class="shrine-content">
                <div class="shrine-altar">
                  <img
                    src=""
                    alt="Miku Shrine"
                    class="shrine-image"
                    id="shrineMiku"
                  />
                  <div class="offering-candles">
                    <div class="candle">🕯️</div>
                    <div class="candle">🕯️</div>
                    <div class="candle">🕯️</div>
                  </div>
                </div>

                <div class="shrine-info">
                  <h3>💙 About Hatsune Miku</h3>
                  <p>
                    Miku has been my inspiration for creativity, music, and
                    digital art. This shrine celebrates the magic of vocaloid
                    music and the amazing community around it!
                  </p>

                  <h3>🎵 Favorite Songs</h3>
                  <ul class="song-list">
                    <li>World is Mine - ryo</li>
                    <li>Senbonzakura - Kurousa-P</li>
                    <li>Tell Your World - kz(livetune)</li>
                    <li>Love is War - ryo</li>
                  </ul>
                </div>
              </div>

              <div class="gallery">
                <h3>🖼️ Miku Gallery</h3>
                <div class="image-gallery" id="mikuGallery">
                  <!-- Will be populated by JS -->
                </div>
              </div>
            </section>
          </main>

          <!-- Right sidebar -->
          <aside id="rightSidebar">
            <div class="widget" id="jpHudWidget">
              <h3>🎤 Diva HUD</h3>
              <div class="jp-hud-widget">
                <!-- Moved Level bar into Diva HUD -->
                <div class="hud-line" id="hudLevelWrap">
                  <strong>⭐ Level:</strong>
                  <span id="hudLevelText">Level 1 • 0%</span>
                  <div class="progress-bar" id="hudLevelBar">
                    <div
                      class="progress"
                      id="hudLevelProgress"
                      style="width: 0%"
                    ></div>
                  </div>
                </div>
                <div class="hud-line">
                  <strong>❤️ Lives:</strong> <span id="hudLives">5</span>/<span
                    id="hudMaxLives"
                    >5</span
                  >
                </div>
                <!-- Difficulty control that actually affects gameplay -->
                <div
                  class="hud-controls"
                  id="hudDifficultyWrap"
                  style="display: none"
                >
                  <label class="hud-label" for="hudDifficulty"
                    >Difficulty:</label
                  >
                  <input
                    type="range"
                    min="1"
                    max="9"
                    step="1"
                    value="3"
                    id="hudDifficulty"
                  />
                  <span id="hudDifficultyLabel">3</span>
                </div>
                <!-- Rhythm controls moved to Game Settings overlay -->
                <div
                  class="hud-controls"
                  id="hudBpmWrap"
                  style="display: none"
                ></div>
                <div
                  class="hud-controls"
                  id="hudMetWrap"
                  style="display: none"
                ></div>
                <!-- HUD singer image removed per request -->
                <div class="hud-controls">
                  <label class="hud-label">Game:</label>
                  <select id="hudGame" class="pixel-btn">
                    <option value="vocab">Vocab</option>
                    <option value="kanji">Kanji</option>
                    <option value="kotoba">Kotoba</option>
                  </select>
                  <label class="hud-label">Mode:</label>
                  <select id="hudMode" class="pixel-btn">
                    <option value="jp-en">JP→EN</option>
                    <option value="en-jp">EN→JP</option>
                    <option value="meaning">Meaning→Kanji</option>
                    <option value="reading">Kanji→Reading</option>
                  </select>
                  <!-- Timed moved to Game Settings overlay -->
                </div>
              </div>
            </div>
            <div class="widget">
              <h3 id="quickLinksTitle">🌟 Quick Links</h3>
              <ul class="quick-links" id="quickLinksList">
                <!-- Will be populated by JS -->
              </ul>
            </div>

            <div class="widget">
              <h3>💫 Web Badges</h3>
              <div class="badges-collection" id="webBadges"></div>
            </div>

            <div class="widget">
              <h3>📊 Today's Vibe</h3>
              <div class="vibe-meter">
                <div class="vibe-bar">
                  <div class="vibe-fill kawaii-vibes" style="width: 85%"></div>
                </div>
                <p>85% Kawaii Energy! ✨</p>
              </div>
            </div>
          </aside>
        </div>

        <!-- Footer -->
        <footer id="footer">
          <p>
            Hand-crafted for Baby Belle • ✨ This site is always under
            construction! ✨ • Cinnamoroll Approved
          </p>
          <div class="footer-badges"></div>
        </footer>
      </div>

      <!-- Background animations -->
      <div class="bg-animations">
        <div class="floating-hearts"></div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="./js/shimeji.js"></script>
    <!-- Extracted core modules -->
    <script src="./js/modules/sfx.js"></script>
    <script src="./js/modules/audio.js"></script>
    <!-- New modular helpers: progression + jukebox (non-breaking, attach to window) -->
    <script src="./js/modules/progression.js"></script>
    <script src="./js/modules/achievements.js"></script>
    <script src="./js/modules/jukebox.js"></script>
    <script src="./js/modules/games/index.js"></script>
    <script src="./js/modules/games/vocab.js"></script>
    <script src="./js/modules/games/kanji.js"></script>
    <script src="./js/modules/games/kotoba.js"></script>
    <!-- Centralized editable copy -->
    <script src="./js/content.js"></script>
  <!-- Load remaining modules before main.js -->
    <script src="./js/modules/effects.js"></script>
    <script src="./js/modules/quests.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
