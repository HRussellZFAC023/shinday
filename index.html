<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Baby Belle - Pixel Miku Garden ✨</title>
    <meta
      name="description"
      content="A cozy pastel web home for Baby Belle (BabbyBelle / bb / beebee / belle / shin / shinnun) - links, music, games, study corner, and interactive Miku companions!"
    />
    <meta property="og:title" content="Baby Belle - Pastel Miku Garden" />
    <meta
      property="og:description"
      content="A magical retro website with interactive Miku friends and kawaii vibes"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="./assets/miku_hatsune_5_by_makiilu_d4uklnz-fullview.png"
      id="metaOgImage"
    />

    <link rel="icon" href="./assets/icon.jpg" id="faviconLink" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/shimeji.css" />
  </head>
  <body>
    <!-- Loading splash -->
    <div id="splash" class="splash-screen">
      <div class="splash-content">
        <img
          src="./assets/miku_hatsune_5_by_makiilu_d4uklnz-fullview.png"
          alt="Miku"
          class="splash-miku"
          id="splashMiku"
        />
        <h1 class="glitch" data-text="Baby Belle's Pixel Garden">
          Baby Belle's Pixel Garden
        </h1>
        <p class="typing-text">Initializing kawaii protocols...</p>
        <button id="enterSite" class="enter-btn">
          enter the garden °❀⋆.ೃ࿔*:･
        </button>
      </div>
    </div>

    <!-- Main site -->
    <div id="mainSite" class="main-site hidden">
      <div id="container">
        <!-- Floating cursor hearts -->
        <div id="cursorTrail"></div>

        <!-- Header with animated background -->
        <header id="header">
          <div class="header-content">
            <h1 id="siteTitle">Baby Belle's Pixel Garden</h1>
            <p id="siteSub" class="handwriting">
              where sweet dreams come to life ♡ • べべベルのデジタル庭
            </p>
          </div>
          <div id="floatingMikusContainer" class="floating-mikus person"></div>
        </header>
        <!-- Status bar with integrated navigation -->
        <div id="statusBar" class="status-bar">
          <div class="status-left">
            <div class="status-item">
              <span class="blink" id="statusDot">●</span>
              <span id="onlineStatus">Online</span>
            </div>
            <div class="status-item">
              💖 <span id="heartCount">0</span>
            </div>
          </div>
          <nav id="navbar" class="status-nav">
            <ul>
              <li><a href="#home" data-section="home">🏠 Home</a></li>
              <li><a href="#socials" data-section="socials">🔗 Socials</a></li>
              <li><a href="#study" data-section="study">📚 日本語</a></li>
              <li><a href="#games" data-section="games">🎮 Games</a></li>
              <li><a href="#Wish" data-section="Wish">🎰 Wish</a></li>
              <li>
                <a href="#shrine" data-section="shrine">⛩️ Shrine</a>
              </li>
            </ul>
          </nav>
        </div>

        <!-- Main layout -->
        <div id="flex">
          <!-- Left sidebar -->
          <aside id="leftSidebar">
            <div class="widget">
              <h3>📻 miku radio</h3>
              <div class="radio-widget">
                <div class="retro-radio">
                  <div class="radio-display">
                    <span id="radioDisplayStatus">Kawaii FM 📻</span>
                    <div class="eq-bars">
                      <div class="bar"></div>
                      <div class="bar"></div>
                      <div class="bar"></div>
                      <div class="bar"></div>
                    </div>
                  </div>
                  <div class="radio-controls">
                    <button id="playRadio" class="radio-btn">▶️</button>
                    <button id="pauseRadio" class="radio-btn">⏸️</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="widget">
              <h3>🐾 Your new best friend~!</h3>
              <iframe
                width="314"
                height="321"
                scrolling="no"
                src=""
                frameborder="0"
                id="petIframe"
              ></iframe>
              <small style="display: block; color: #596286; margin-top: 6px"
                >Powered by
                <a
                  href="https://gifypet.neocities.org/"
                  target="_blank"
                  rel="noopener"
                  >gifypet</a
                ></small
              >
            </div>

            <div class="widget">
              <h3>👥 MyFriends</h3>
              <div class="friends-list" id="friendsList">
                <!-- Will be populated by JS -->
              </div>
            </div>

            <div class="widget">
              <h3>🌸 Site Stats</h3>
              <div class="stats">
                <!-- Badges moved to Web Badges section -->
                <div class="visitor-counter">
                  <span class="counter-label">Visitors:</span>
                  <span id="visitorCount" class="counter-number"
                    >Loading...</span
                  >
                </div>
              </div>
            </div>
          </aside>

          <!-- Main content -->
          <main id="mainContent">
            <!-- Home section -->
            <section id="home" class="content-section active">
              <div class="hero-banner">
                <img src="" alt="Miku Hero" class="hero-miku" id="heroMiku" />
                <div class="hero-text">
                  <h2>Welcome to my garden! 🌸</h2>
                  <p>
                    <!-- Will be populated by JS (heroParagraphs) -->
                  </p>
                  <button id="heartBtn" class="heart-btn">💖 Send Love</button>
                </div>
              </div>

              <div class="content-grid" id="homeGrid">
                <!-- Will be rebuilt by JS (about, likes, dislikes, dreams) -->
              </div>
            </section>

            <!-- Socials section -->
            <section id="socials" class="content-section">
              <h2>🔗 Find Me Online</h2>
              <div class="socials-grid" id="socialsGrid">
                <!-- Will be populated by JS -->
              </div>
            </section>

            <!-- Friends section -->
            <section id="friends" class="content-section">
              <h2>👥 My Friends</h2>
              <div class="friends-list" id="friendsSectionList">
                <!-- Will be populated by JS -->
              </div>
            </section>

            <!-- Japanese games (via Kotoba API) -->
            <section id="study" class="content-section">
              <div id="jpGames">
                <!-- Populated by JS -->
              </div>
            </section>

            <!-- Games section -->
            <section id="games" class="content-section">
              <h2>🎮 Interactive Toys</h2>
              <div class="games-grid">
                <div class="game-widget">
                  <h3>🧩 Miku Memory Game</h3>
                  <div id="memoryGame" class="memory-grid precision">
                    <!-- Will be populated by JS -->
                  </div>
                  <button id="resetMemory" class="pixel-btn">Reset Game</button>
                </div>

                <div class="game-widget">
                  <h3>💖 Heart Collector</h3>
                  <div class="heart-game">
                    <div id="heartZone" class="heart-zone precision">
                      Click to collect hearts! 💖
                    </div>
                    <p>
                      💖 Hearts collected: <span id="gameHeartCount">0</span>
                    </p>
                    <!-- Heart tools moved to right sidebar shop; UI hidden here -->
                    <!-- Reset button removed: heart collector persists and cannot be reset from UI -->
                  </div>
                </div>

                <div class="game-widget">
                  <div
                    class="social-embed"
                    style="
                      margin-top: 10px;
                      border-radius: 12px;
                      overflow: hidden;
                      height: 480px;
                    "
                  >
                    <iframe
                      title="miku puzzle"
                      src="https://www.jigsawplanet.com/?rc=play&amp;pid=3516308d564d&amp;view=iframe&pieces=25"
                      style="width: 100%; height: 520px"
                      frameborder="0"
                      allowfullscreen
                    ></iframe>
                  </div>
                </div>

                <div class="game-widget">
                  <p>
                    <a
                      href="https://mikusquared.itch.io/rpg"
                      target="_blank"
                      rel="noopener"
                      >🕹️ Miku RPG (opens in new window)</a
                    >
                  </p>
                  <p>
                    <a
                      href="https://mikusquared.itch.io/ttj2"
                      target="_blank"
                      rel="noopener"
                      >🕹️ Miku Jetpack (opens in new window)</a
                    >
                  </p>
                </div>
              </div>
            </section>

            <section id="Wish" class="content-section">
              <h2>🎰 Miku Wish</h2>
              <div class="game-widget">
                <div class="Wish precision" id="mikuWish">
                  <div class="Wish-header">
                    <div class="Wish-tokens">
                      🎟️ Tickets: <span id="WishTokens">0</span>
                    </div>
                    <div class="Wish-actions">
                      <button id="WishPull1" class="pixel-btn">Pull x1</button>
                      <button id="WishPull10" class="pixel-btn">
                        Pull x10
                      </button>
                      <button id="WishDaily" class="pixel-btn">
                        Daily Ticket
                      </button>
                      <button id="WishConvert" class="pixel-btn">
                        100💖 → +1
                      </button>
                    </div>
                  </div>
                  <!-- Persistent Wish preview slot machine (idle state) -->
                  <div id="WishRotation" class="Wish-rotation">
                    <div class="Wish-preview">
                      <div class="preview-reel">
                        <img class="preview-image" src="" alt="Wish preview" />
                      </div>
                    </div>
                  </div>
                  <!-- Results panel replaces rotation after a pull -->
                  <div id="WishResults" class="Wish-results" hidden></div>
                  <div class="Wish-footer">
                    <button id="WishCollectionBtn" class="pixel-btn">
                      Open MikuDex
                    </button>
                  </div>
                  <div id="mikuDex" class="Wish-collection hidden"></div>
                </div>
              </div>
            </section>

            <!-- Shrine section -->
            <section id="shrine" class="content-section">
              <h2></h2>
              <div class="shrine-content">
                <div class="shrine-altar">
                  <img
                    src=""
                    alt="Miku Shrine"
                    class="shrine-image"
                    id="shrineMiku"
                  />
                  <div class="offering-candles">
                    <div class="candle">🕯️</div>
                    <div class="candle">🕯️</div>
                    <div class="candle">🕯️</div>
                  </div>
                </div>

                <div class="shrine-info">
                  <h3>💙 About Hatsune Miku</h3>
                  <p>
                    Miku has been my inspiration for creativity, music, and
                    digital art. This shrine celebrates the magic of vocaloid
                    music and the amazing community around it!
                  </p>

                  <h3>🎵 Favorite Songs</h3>
                  <ul class="song-list">
                    <li>World is Mine - ryo</li>
                    <li>Senbonzakura - Kurousa-P</li>
                    <li>Tell Your World - kz(livetune)</li>
                    <li>Love is War - ryo</li>
                  </ul>
                </div>
              </div>

              <div class="image-gallery"  id="mikuGallery">

                <!-- Will be populated by JS -->
              </div>
              <br />
              <div class="game-widget">
                <iframe
                  src="https://www.mikucollection.com/en/art-gallery"
                  title="Miku Collection Art Gallery"
                  style="width: 100%; height: 600px; border: none"
                  loading="lazy"
                ></iframe>
              </div>
            </section>
          </main>

          <!-- Right sidebar -->
          <aside id="rightSidebar">
            <div class="widget" id="jpHudWidget">
              <h3>🎤 Diva HUD</h3>
              <div class="jp-hud-widget">
                <!-- Moved Level bar into Diva HUD -->
                <div class="hud-line" id="hudLevelWrap">
                  <strong>⭐ Level:</strong>
                  <span id="hudLevelText">Level 1</span>
                  <div class="progress-bar" id="hudLevelBar">
                    <div
                      class="progress"
                      id="hudLevelProgress"
                      style="width: 0%"
                    ></div>
                  </div>
                </div>
                <div class="hud-line">
                  <strong>❤️ Lives:</strong> <span id="hudLives">5</span>/<span
                    id="hudMaxLives"
                    >5</span
                  >
                </div>
                <!-- Difficulty control that actually affects gameplay -->
                <div
                  class="hud-controls"
                  id="hudDifficultyWrap"
                  style="display: none"
                >
                  <label class="hud-label" for="hudDifficulty"
                    >Difficulty:</label
                  >
                  <input
                    type="range"
                    min="1"
                    max="9"
                    step="1"
                    value="3"
                    id="hudDifficulty"
                  />
                  <span id="hudDifficultyLabel">3</span>
                </div>
                <!-- Rhythm controls moved to Game Settings overlay -->
                <div
                  class="hud-controls"
                  id="hudBpmWrap"
                  style="display: none"
                ></div>
                <div
                  class="hud-controls"
                  id="hudMetWrap"
                  style="display: none"
                ></div>
                <!-- HUD singer image removed per request -->
                <div class="hud-controls">
                  <label class="hud-label">Game:</label>
                  <select id="hudGame" class="pixel-btn">
                    <option value="vocab">Vocab</option>
                    <option value="kanji">Kanji</option>
                    <option value="kotoba">Kotoba</option>
                  </select>
                  <label class="hud-label">Mode:</label>
                  <select id="hudMode" class="pixel-btn">
                    <option value="jp-en">JP→EN</option>
                    <option value="en-jp">EN→JP</option>
                    <option value="meaning">Meaning→Kanji</option>
                    <option value="reading">Kanji→Reading</option>
                  </select>
                  <!-- Timed moved to Game Settings overlay -->
                </div>
              </div>
            </div>
            <div class="widget">
              <h3 id="quickLinksTitle">🌟 Quick Links</h3>
              <ul class="quick-links" id="quickLinksList">
                <!-- Will be populated by JS -->
              </ul>
            </div>

            <div class="widget">
              <h3>🛍️ Shop</h3>
              <div class="shop-panel">
                <div class="shop-item">
                  <button
                    id="shopShield"
                    class="pixel-btn"
                    title="Ward hearts briefly"
                  >
                    ⛨ Shield (50💖)
                  </button>
                </div>
                <div class="shop-item">
                  <button
                    id="shopDecoy"
                    class="pixel-btn"
                    title="Distract the swallower"
                  >
                    🍪 Decoy (5💖)
                  </button>
                </div>
              </div>
            </div>

            <div class="widget">
              <h3>💫 Web Badges</h3>
              <div class="badges-collection" id="webBadges"></div>
            </div>

            <div class="widget">
              <h3>📊 Today's Vibe</h3>
              <div class="vibe-meter">
                <div class="vibe-bar">
                  <div class="vibe-fill kawaii-vibes" style="width: 85%"></div>
                </div>
                <p>85% Kawaii Energy! ✨</p>
              </div>
            </div>
          </aside>
        </div>

        <!-- Footer -->
        <footer id="footer">
          <p>
            Cinnamoroll Approved • This site is always under construction! ✨
          </p>
          <div class="tooltip">
            <img
              src="./assets/madeByGif.gif"
              alt="Made by us — gaming together"
              title="Made with ♥ by Hero & Shin"
              data-tooltip="Made with ♥ by Hero & Shin"
              class="made-by-gif"
            />
          </div>
        </footer>
      </div>

      <!-- Background animations -->
      <div class="bg-animations">
        <div class="floating-hearts"></div>
      </div>
    </div>

    <!-- 🌸 MIKU CORE - EVERYTHING IN ONE PLACE! 🌸 -->
    <!-- Prefetch Word-of-the-Day and Miku image manifest before splash wiring -->
    <script src="./js/modules/wod.js"></script>
    <script src="./js/modules/miku-manifest.js"></script>
    <script src="./js/content.js"></script>
    <script src="./js/shimeji.js"></script>
    <script src="./js/modules/sfx.js"></script>
    <script src="./js/modules/audio.js"></script>
    <script src="./js/modules/radio.js"></script>
    <script src="./js/modules/MikuSystem.js"></script>
    <script src="./js/modules/navigation.js"></script>
    <script src="./js/modules/presentation.js"></script>
    <script src="./js/modules/progression.js"></script>
    <script src="./js/modules/achievements.js"></script>
    <script src="./js/modules/jukebox.js"></script>
    <script src="./js/modules/dex.js"></script>
    <script src="./js/modules/visual-effects.js"></script>
    <script src="./js/modules/hud.js"></script>
    <!-- Removed legacy per-game scripts; unified study-canvas handles the JP section -->
    <script src="./js/modules/quests.js"></script>
    <script src="./js/modules/cursor.js"></script>
    <script src="./js/modules/hearts.js"></script>
    <script src="./js/modules/games/memory.js"></script>
    <script src="./js/modules/games/heart-garden.js"></script>
    <script src="./js/modules/shop.js"></script>
    <script src="./js/modules/wish.js"></script>
    <script src="./js/modules/shrine-dex.js"></script>
    <script src="./js/modules/socials.js"></script>
    <script src="./js/modules/shrine-dex.js"></script>
    <script src="./js/modules/mikuUI.js"></script>
    <script src="./js/modules/mikuCore.js"></script>

    <script src="./js/main.js"></script>
    <!-- Unified Study Canvas (chat-first JP section) -->
    <script src="./js/modules/study-canvas.js"></script>
  </body>
</html>
